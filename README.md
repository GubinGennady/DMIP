# Проект: Интеграция сообщений с почты на Django

## Описание проекта

Данный проект предоставляет механизм импорта сообщений с почтовых сервисов Yandex, Gmail и Mail.ru в систему. Прогресс
импорта отображается с помощью прогресс-бара, который обновляется в реальном времени через WebSocket-соединение. Система
хранит сообщения в базе данных, включая такие атрибуты, как тема, дата отправки, отправитель, текст письма и
прикреплённые файлы.

## Основные функции

- Импорт сообщений с почтовых сервисов (Yandex, Gmail, Mail.ru).
- Хранение информации о письмах (тема, дата отправки, отправитель, текст, вложения) в базе данных.
- Прогресс-бар для отображения текущего статуса загрузки сообщений.
- Обновление страницы сообщений в реальном времени через WebSocket-соединение.
- Авторизация и регистрация пользователей.
- Поддержка хранения учетных данных пользователей для почтовых сервисов.

## Задачи проекта

- Реализация моделей для хранения данных о почтовых аккаунтах и сообщениях.
- Создание интерфейса для просмотра списка сообщений и отображения прогресса загрузки.
- Настройка процессов получения и загрузки сообщений с почтовых сервисов.
- Реализация WebSocket-соединения для обновления данных в реальном времени.

## Установка

1. **Склонируйте репозиторий:**
   ```bash
   git clone <repository-url>

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt

3. **Выполните миграции базы данных:**
   ```bash
   python manage.py migrate

4. **Создайте суперпользователя для доступа к административной панели:**
   ```bash
   python manage.py createsuperuser

5. **Запустите сервер разработки:**
   ```bash
   daphne -p 8000 asgi:application

## Настройка каналов (Channels) для WebSocket

Для работы с WebSocket необходимо настроить Django Channels и Redis.

1. **Установите Redis (если он не установлен) на macOS:**
   ```bash
   brew install redis
2. **Установите Redis (если он не установлен) на Linux:**
   ```bash
   sudo apt-get install redis

3. **Запустите Redis-сервер:**
   ```bash
   redis-server

4. **Убедитесь, что Channels и Redis правильно настроены в проекте. Добавьте следующие параметры в settings.py:**
   ```bash
   ASGI_APPLICATION = 'project_name.asgi.application'
   CHANNEL_LAYERS = {
       'default': {
           'BACKEND': 'channels_redis.core.RedisChannelLayer',
           'CONFIG': {
               "hosts": [('127.0.0.1', 6379)],
           },
       },
   }

## Использование

1. Перейдите в административную панель Django и добавьте данные для почтового аккаунта (логины и пароли для Yandex,
   Gmail или Mail.ru).
2. Перейдите на страницу просмотра сообщений. Начнется процесс импорта писем, прогресс которого будет отображаться на
   странице.
3. По мере загрузки сообщений они будут отображаться в таблице с информацией о теме письма, дате отправки, отправителе и
   прикреплённых файлах.

## Стек технологий

- Python 3.8+
- Django 4.2+
- Django Channels 4.0.0
- Channels Redis 4.1.0
- Daphne 4.0.0
- PostgreSQL
- Redis

## Ожидаемый результат

- Корректный импорт сообщений с почтовых сервисов.
- Отображение прогресса загрузки писем с использованием WebSocket-соединения.
- Обновление страницы сообщений в режиме реального времени.